<template name="updateProfile">
	{{#autoForm collection=users id="updateProfileForm" type="update" doc=this}}
	{{> afQuickField name="profile.name"}}
	{{> afQuickField name="profile.email"}}
	{{> afQuickField name="profile.phone"}}
	{{#unless afFieldValueIs name="profile.type" value="passenger"}}
	{{#unless afFieldValueIs name="profile.type" value="driver"}}
	{{> afBtnGroup collection=users name="profile.type"}}
	{{/unless}}
	{{/unless}}
	{{> afBtnGroup collection=users name="profile.service"}}
	{{> afBtnGroup collection=users name="profile.student"}}
	{{> afQuickField name="profile.groups"}}
	{{> afQuickField name="profile.bio"}}
	{{> afQuickField name="profile.location"}}
	{{> afBtnGroup collection=users name="profile.confirm"}}

	<br/>
	<br/>
	<button type="submit" class="btn btn-primary btn-lg">Save</button>

	{{/autoForm}}
</template>

<template name="afBtnGroup">
	{{> afFieldLabel name=name}}
	<div style="display: none;">
		{{> afQuickField name=name}}
	</div>
	<br/>
	<div class="btn-group">
		{{#each fieldVals}}
		<button type="button" class="btn btn-primary btnGroup {{btnGroupActive ../name value}}" data-name="{{../name}}" data-value="{{value}}">{{label}}</button>
		{{/each}}
	</div>
	<br />
</template>